I"Ç$<h1 id="ë„¤ì´ë²„-d2-pwa-ì„¸ë¯¸ë‚˜-ìš”ì•½">ë„¤ì´ë²„ D2 PWA ì„¸ë¯¸ë‚˜ ìš”ì•½</h1>

<h2 id="pwa">PWA</h2>

<ul>
  <li>Progressive Web App</li>
  <li><strong>Reliable</strong>
    <ul>
      <li>ë¹ ë¥¸ ë¡œë”©</li>
      <li>ì˜¤í”„ë¼ì¸ ì‘ë™</li>
      <li>ë¶ˆì•ˆì •í•œ ë„¤íŠ¸ì›Œí¬ì—ì„œë„ ì‘ë™</li>
    </ul>
  </li>
  <li><strong>Fast</strong>
    <ul>
      <li>ë¹ ë¥¸ ë°˜ì‘</li>
      <li>ì–´ë–¤ input, Eventì—ë„ ë°˜ì‘</li>
      <li>ì¬ë°©ë¬¸ì‹œì—ë„ ë¹ ë¥¸ ë°˜ì‘</li>
    </ul>
  </li>
  <li><strong>Engaging</strong>
    <ul>
      <li>í™ˆ í™”ë©´ì— ì¶”ê°€ ê°€ëŠ¥</li>
      <li>full screen</li>
      <li>ui ìœ ì§€</li>
      <li>push ì•Œë¦¼</li>
    </ul>
  </li>
</ul>

<h2 id="offline">OFFLINE</h2>

<ul>
  <li>ì„œë¹„ìŠ¤ì›Œì»¤ ì‚¬ìš©</li>
</ul>

<p><img width="482" alt="1" src="https://user-images.githubusercontent.com/41617388/78258642-7df34480-7536-11ea-9334-42c0571477a7.png" /></p>

<ul>
  <li>PWAì˜ ê¸°ë³¸ì ì¸ ì¡°ê±´ì€?
    <ul>
      <li>httpsìƒì—ì„œ ì‘ë™</li>
      <li>íƒœë¸”ë¦¿, ëª¨ë°”ì¼ ìƒì—ì„œ ë°˜ì‘í˜•ìœ¼ë¡œ ì‘ë™</li>
      <li>ìµœì†Œ ì‹œì‘ URLì€ offlineìœ¼ë¡œ ì‘ë™</li>
      <li>í™ˆ í™”ë©´ì— ì¶”ê°€ ì‹œ metadata ì œê³µ</li>
      <li>3Gìƒì—ì„œë„ ë¹ ë¥´ê²Œ ì‘ë™</li>
      <li>cross-browser</li>
      <li>í˜ì´ì§€ ë³€í™˜ì— ë„¤íŠ¸ì›Œí¬ê°€ ì˜í–¥ì„ ë¼ì¹˜ì§€ ì•ŠëŠ”ë“¯ì´ ì‘ìš©</li>
      <li>ê°ê°ì˜ í˜ì´ì§€ê°€ URLì„ ê°€ì§€ê³  ìˆìŒ</li>
    </ul>
  </li>
</ul>

<p>â‡’ <a href="https://developers.google.com/web/tools/lighthouse?hl=ko">LightHouse</a>ë¡œ PWAì¸ì§€ í™•ì¸í•˜ê³ , ê´€ë¦¬í•  ìˆ˜ ìˆìŒ</p>

<ul>
  <li>ê·¸ë˜ì„œ ì–´ë–»ê²Œ ì‹œì‘í•´?
    <ul>
      <li>ì²˜ìŒë¶€í„° PWAì‹œì‘ or ì¡°ê¸ˆì”© ë³€ê²½ or single feature(ì˜¤í”„ë¼ì¸)</li>
      <li>App-shell (í”„ë¡ íŠ¸)</li>
    </ul>
  </li>
  <li>ì„œë¹„ìŠ¤ì›Œì»¤ life cycle
    <ul>
      <li>App-like ë¼ì´í”„ì‚¬ì´í´</li>
      <li>System Eventsì—ë§Œ ë°›ìŒ</li>
      <li>
        <p>OSê°€ ëª…ë ¹í•  ë•Œë§Œ ì‘ë™
  <img width="615" alt="2" src="https://user-images.githubusercontent.com/41617388/78258654-83e92580-7536-11ea-95e7-408b1e51d789.png" /></p>
      </li>
      <li>Simple Example</li>
    </ul>

    <p><img width="579" alt="3" src="https://user-images.githubusercontent.com/41617388/78258671-877cac80-7536-11ea-8d76-2f7001e0287c.png" /></p>
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>      <span class="nb">self</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">fetch</span><span class="dl">'</span><span class="p">,</span> <span class="nx">e</span><span class="o">=&gt;</span><span class="p">{</span> <span class="nx">event</span><span class="p">.</span><span class="nx">respondWith</span><span class="p">(</span><span class="nx">fetch</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">request</span><span class="p">));</span> <span class="p">}</span>
</code></pre></div>    </div>
    <p><img width="748" alt="4" src="https://user-images.githubusercontent.com/41617388/78258769-aa0ec580-7536-11ea-9e3a-12d90cb809a5.png" /></p>

    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>      <span class="nb">self</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="err">â€˜</span><span class="nx">fetch</span><span class="err">â€™</span><span class="p">,</span> 
      	<span class="nx">event</span> <span class="o">=&gt;</span><span class="p">{</span> <span class="nx">event</span><span class="p">.</span><span class="nx">respondWith</span><span class="p">(</span> <span class="nx">caches</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="err">â€˜</span><span class="nx">my</span><span class="o">-</span><span class="nx">cache</span><span class="err">â€™</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">cache</span> <span class="o">=&gt;</span> <span class="p">{</span>
      		<span class="k">return</span> <span class="nx">cache</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">request</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">cacheResponse</span> <span class="o">=&gt;</span> <span class="p">{</span>
      			<span class="kd">const</span> <span class="nx">fetchPromise</span> <span class="o">=</span> <span class="nx">fetch</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">request</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">networkResponse</span> <span class="o">=&gt;</span><span class="p">{</span>
      				<span class="nx">cache</span><span class="p">.</span><span class="nx">put</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">request</span><span class="p">,</span> <span class="nx">networkResponse</span><span class="p">.</span><span class="nx">clone</span><span class="p">());</span>
      				<span class="k">return</span> <span class="nx">networkResponse</span><span class="p">;</span>
      		<span class="k">return</span> <span class="nx">cacheResponse</span> <span class="o">||</span> <span class="nx">fetchPromise</span><span class="p">;}</span> <span class="p">})}</span>
</code></pre></div>    </div>
    <p>### <a href="https://developers.google.com/web/tools/workbox">WorkBox</a></p>

    <ul>
      <li>ì‚¬ìš©í•˜ë©´ ì¢€ ë” í¸ë¦¬í•˜ë‹¤</li>
      <li>version ê´€ë¦¬</li>
      <li>pre-caching</li>
    </ul>

    <p><img width="563" alt="5" src="https://user-images.githubusercontent.com/41617388/78258766-a9762f00-7536-11ea-8c7f-4b6579de0347.png" /></p>

    <hr />

    <ul>
      <li><strong>cache-first</strong>
        <ul>
          <li>ì„¤ì¹˜í•  ë•Œ ìºì‹œë¥¼ ëª¨ë‘ ì €ì¥</li>
        </ul>
      </li>
      <li>
        <p>Fast-Navigation</p>

        <p><img width="529" alt="6" src="https://user-images.githubusercontent.com/41617388/78258763-a8dd9880-7536-11ea-8566-1bd3de3e1d16.png" /></p>

        <ul>
          <li>ìì£¼ ë³€ê²½ë˜ëŠ” ê±´ networkì™€ ì§ì ‘ í†µì‹  (blacklist)</li>
          <li>ì•„ë‹Œê±´ cacheì— ì €ì¥í•´ì„œ ë¹ ë¥¸ ì ‘ê·¼</li>
          <li>ë¡œì§ì„ ì„œë¹„ìŠ¤ì›Œì»¤ê°€ ë‹´ë‹¹í•œë‹¤</li>
          <li>flexible integration</li>
        </ul>
      </li>
    </ul>

    <hr />

    <p>## ì‹¤ì‚¬ìš© ì„œë¹„ìŠ¤ë“¤
  ### Wired</p>

    <p><img width="704" alt="7" src="https://user-images.githubusercontent.com/41617388/78258760-a7ac6b80-7536-11ea-81bb-1911c6132b9e.png" /></p>

    <ul>
      <li>cache sizeëŠ” ì„¤ê³„ë¥¼ ì˜ í•´ì•¼ë¨</li>
      <li>offline article listing</li>
    </ul>

    <p><img width="457" alt="8" src="https://user-images.githubusercontent.com/41617388/78258753-a54a1180-7536-11ea-9625-a377d10c2602.png" /></p>

    <ul>
      <li>ê¸°íƒ€ ìš°ë²„, ì—ì–´ë¹„ì•¤ë¹„, í‹´ë” ë“±ë“±</li>
    </ul>

    <hr />
  </li>
</ul>

<h2 id="pwa-in-production">PWA in Production</h2>

<h3 id="í¼í¬ë¨¼ìŠ¤-ì¡°ê±´-ì„¤ì •">í¼í¬ë¨¼ìŠ¤ ì¡°ê±´ ì„¤ì •</h3>

<ul>
  <li>ìµœì´ˆ ë·°ë¥¼ ìš°ì„ ì ìœ¼ë¡œ ì²˜ë¦¬í•´ì•¼ í•¨
    <ul>
      <li>3ì´ˆ ì´ë‚´ ë¡œë”©</li>
    </ul>
  </li>
</ul>

<h3 id="simple">Simple</h3>

<ul>
  <li>ì´ë¯¸ì§€, css, í°íŠ¸, lazy loading</li>
</ul>

<h3 id="not-simple">Not Simple</h3>

<ul>
  <li>3rd íŒŒí‹° ë¼ì´ë¸ŒëŸ¬ë¦¬, JS ìµœì í™”</li>
</ul>

<h3 id="more-not-simple">More Not Simple</h3>

<ul>
  <li>í¼í¬ë¨¼ìŠ¤ ìœ ì§€</li>
</ul>

<h3 id="pwa-indexability">PWA Indexability</h3>

<ul>
  <li>polyfills, metadata, ssr, be progressive</li>
</ul>

<h3 id="ì„œë¹„ìŠ¤ì›Œì»¤-kill-switch">ì„œë¹„ìŠ¤ì›Œì»¤ kill switch</h3>

<ul>
  <li>typlically â€˜kill headerâ€™ ì‚¬ìš©</li>
</ul>

<h3 id="ì–¸ì œ-ì„œë¹„ìŠ¤ì›Œì»¤ë¥¼-ì„¤ì¹˜-í•˜ëŠ”ì§€-ê³ ë ¤">ì–¸ì œ ì„œë¹„ìŠ¤ì›Œì»¤ë¥¼ ì„¤ì¹˜ í•˜ëŠ”ì§€ ê³ ë ¤</h3>

<h3 id="offline-analytics">Offline Analytics</h3>

<ul>
  <li>workbox ì‚¬ìš©</li>
</ul>

<h3 id="service-worker-scope">Service Worker Scope</h3>

<ul>
  <li>sub-directoryê¹Œì§€</li>
</ul>

<h3 id="ìºì‹œ-ê´€ë¦¬ëŠ”-ì„¤ê³„ìê°€">ìºì‹œ ê´€ë¦¬ëŠ” ì„¤ê³„ìê°€</h3>

<h3 id="cors-caching--opaque-response">CORS Caching &amp; Opaque Response</h3>

<ul>
  <li>workboxëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ìºì‹± X</li>
</ul>

<h3 id="pwaë¥¼-ê¸°ì¡´ì˜-ì›¹ì‚¬ì´íŠ¸ì—-ì ìš©í• ë•Œ-ë¦¬íŒ©í† ë§-vs-new">PWAë¥¼ ê¸°ì¡´ì˜ ì›¹ì‚¬ì´íŠ¸ì— ì ìš©í• ë•Œ ë¦¬íŒ©í† ë§ VS NEW</h3>

<ul>
  <li>New is the best</li>
  <li>Simple site ì´ìƒì€ ì™„ì „í•œ PWAê°€ í˜ë“¤ë‹¤</li>
</ul>

<h3 id="í”„ë ˆì„ì›Œí¬ì—ì„œ-pwa-ì–´ë–»ê²Œ-ì‚¬ìš©">~~í”„ë ˆì„ì›Œí¬ì—ì„œ PWA ì–´ë–»ê²Œ ì‚¬ìš©?</h3>

<ul>
  <li><a href="http://hnpwa.com">hnpwa.com</a> ì°¸ê³ </li>
</ul>

<h3 id="cdn-broswer-ì„œë¹„ìŠ¤-ì›Œì»¤-ë‚´ì˜-ìºì‹œ-ìƒí˜¸ì‘ìš©-ê³ ë ¤">CDN, Broswer, ì„œë¹„ìŠ¤ ì›Œì»¤ ë‚´ì˜ ìºì‹œ ìƒí˜¸ì‘ìš© ê³ ë ¤</h3>

<h3 id="buile-processê°€-ë³µì¡í•˜ì§€ë§Œ-worth-it">buile processê°€ ë³µì¡í•˜ì§€ë§Œ, worth it.</h3>

<h3 id="offline-ux">Offline UX</h3>

<ul>
  <li>ì‚¬ìš©ì ì…ì¥ì—ì„œ ì–´ë–¤ ê²ƒì´ ì¢‹ì€ì§€ ê³ ë ¤í•˜ê¸°</li>
</ul>

<h3 id="desktop-pwaë„-ì‹ ê²½ì“°ê¸°">Desktop PWAë„ ì‹ ê²½ì“°ê¸°</h3>

<h3 id="ì›¹-ë·°-ì•ˆì—-pwa">ì›¹ ë·° ì•ˆì— PWA?</h3>

<ul>
  <li>Yes, ìºì‹œ ë¶€ë¶„ë§Œ</li>
</ul>
:ET