I"°=<h1 id="ë°±ì¤€-15686-ì¹˜í‚¨-ë°°ë‹¬">[ë°±ì¤€ 15686] ì¹˜í‚¨ ë°°ë‹¬</h1>

<p>Algorithm: dfs, ì‹œë®¬ë ˆì´ì…˜
Created: Apr 30, 2020 10:50 PM
DoubleChk: No
Type: ë°±ì¤€
link: https://www.acmicpc.net/problem/15686</p>

<h2 id="ë¬¸ì œ">ë¬¸ì œ</h2>

<p>í¬ê¸°ê°€ NÃ—Nì¸ ë„ì‹œê°€ ìˆë‹¤. ë„ì‹œëŠ” 1Ã—1í¬ê¸°ì˜ ì¹¸ìœ¼ë¡œ ë‚˜ëˆ„ì–´ì ¸ ìˆë‹¤. ë„ì‹œì˜ ê° ì¹¸ì€ ë¹ˆ ì¹¸, ì¹˜í‚¨ì§‘, ì§‘ ì¤‘ í•˜ë‚˜ì´ë‹¤. ë„ì‹œì˜ ì¹¸ì€ (r, c)ì™€ ê°™ì€ í˜•íƒœë¡œ ë‚˜íƒ€ë‚´ê³ , rí–‰ cì—´ ë˜ëŠ” ìœ„ì—ì„œë¶€í„° rë²ˆì§¸ ì¹¸, ì™¼ìª½ì—ì„œë¶€í„° cë²ˆì§¸ ì¹¸ì„ ì˜ë¯¸í•œë‹¤. rê³¼ cëŠ” 1ë¶€í„° ì‹œì‘í•œë‹¤.</p>

<p>ì´ ë„ì‹œì— ì‚¬ëŠ” ì‚¬ëŒë“¤ì€ ì¹˜í‚¨ì„ ë§¤ìš° ì¢‹ì•„í•œë‹¤. ë”°ë¼ì„œ, ì‚¬ëŒë“¤ì€Â â€<strong>ì¹˜í‚¨ ê±°ë¦¬</strong>â€œë¼ëŠ” ë§ì„ ì£¼ë¡œ ì‚¬ìš©í•œë‹¤.Â <strong>ì¹˜í‚¨ ê±°ë¦¬</strong>ëŠ” ì§‘ê³¼ ê°€ì¥ ê°€ê¹Œìš´ ì¹˜í‚¨ì§‘ ì‚¬ì´ì˜Â ê±°ë¦¬ì´ë‹¤. ì¦‰, ì¹˜í‚¨ ê±°ë¦¬ëŠ” ì§‘ì„ ê¸°ì¤€ìœ¼ë¡œ ì •í•´ì§€ë©°, ê°ê°ì˜ ì§‘ì€Â <strong>ì¹˜í‚¨ ê±°ë¦¬</strong>ë¥¼ ê°€ì§€ê³  ìˆë‹¤.Â <strong>ë„ì‹œì˜ ì¹˜í‚¨ ê±°ë¦¬</strong>ëŠ” ëª¨ë“  ì§‘ì˜Â <strong>ì¹˜í‚¨ ê±°ë¦¬</strong>ì˜ í•©ì´ë‹¤.</p>

<table>
  <tbody>
    <tr>
      <td>ì„ì˜ì˜ ë‘ ì¹¸ (r1, c1)ê³¼ (r2, c2) ì‚¬ì´ì˜ ê±°ë¦¬ëŠ”</td>
      <td>r1-r2</td>
      <td>+</td>
      <td>c1-c2</td>
      <td>ë¡œ êµ¬í•œë‹¤.</td>
    </tr>
  </tbody>
</table>

<p>ì˜ˆë¥¼ ë“¤ì–´, ì•„ë˜ì™€ ê°™ì€ ì§€ë„ë¥¼ ê°–ëŠ” ë„ì‹œë¥¼ ì‚´í´ë³´ì.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>0 2 0 1 0
1 0 1 0 0
0 0 0 0 0
0 0 0 1 1
0 0 0 1 2

</code></pre></div></div>

<p>0ì€ ë¹ˆ ì¹¸, 1ì€ ì§‘, 2ëŠ” ì¹˜í‚¨ì§‘ì´ë‹¤.</p>

<table>
  <tbody>
    <tr>
      <td>(2, 1)ì— ìˆëŠ” ì§‘ê³¼ (1, 2)ì— ìˆëŠ” ì¹˜í‚¨ì§‘ê³¼ì˜ ê±°ë¦¬ëŠ”</td>
      <td>2-1</td>
      <td>+</td>
      <td>1-2</td>
      <td>= 2, (5, 5)ì— ìˆëŠ” ì¹˜í‚¨ì§‘ê³¼ì˜ ê±°ë¦¬ëŠ”</td>
      <td>2-5</td>
      <td>+</td>
      <td>1-5</td>
      <td>= 7ì´ë‹¤. ë”°ë¼ì„œ, (2, 1)ì— ìˆëŠ” ì§‘ì˜ ì¹˜í‚¨ ê±°ë¦¬ëŠ” 2ì´ë‹¤.</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>(5, 4)ì— ìˆëŠ” ì§‘ê³¼ (1, 2)ì— ìˆëŠ” ì¹˜í‚¨ì§‘ê³¼ì˜ ê±°ë¦¬ëŠ”</td>
      <td>5-1</td>
      <td>+</td>
      <td>4-2</td>
      <td>= 6,Â (5, 5)ì— ìˆëŠ” ì¹˜í‚¨ì§‘ê³¼ì˜ ê±°ë¦¬ëŠ”</td>
      <td>5-5</td>
      <td>+</td>
      <td>4-5</td>
      <td>= 1ì´ë‹¤. ë”°ë¼ì„œ, (5, 4)ì— ìˆëŠ” ì§‘ì˜ ì¹˜í‚¨ ê±°ë¦¬ëŠ” 1ì´ë‹¤.</td>
    </tr>
  </tbody>
</table>

<p>ì´ ë„ì‹œì— ìˆëŠ” ì¹˜í‚¨ì§‘ì€ ëª¨ë‘ ê°™ì€ í”„ëœì°¨ì´ì¦ˆì´ë‹¤. í”„ë Œì°¨ì´ì¦ˆ ë³¸ì‚¬ì—ì„œëŠ” ìˆ˜ìµì„ ì¦ê°€ì‹œí‚¤ê¸° ìœ„í•´ ì¼ë¶€ ì¹˜í‚¨ì§‘ì„ íì—…ì‹œí‚¤ë ¤ê³  í•œë‹¤. ì˜¤ëœ ì—°êµ¬ ëì— ì´ ë„ì‹œì—ì„œ ê°€ì¥ ìˆ˜ìµì„ ë§ì´ ë‚¼ ìˆ˜ ìˆëŠ”Â ì¹˜í‚¨ì§‘ì˜ ê°œìˆ˜ëŠ” ìµœëŒ€ Mê°œë¼ëŠ” ì‚¬ì‹¤ì„ ì•Œì•„ë‚´ì—ˆë‹¤.</p>

<p>ë„ì‹œì— ìˆëŠ” ì¹˜í‚¨ì§‘ ì¤‘ì—ì„œ ìµœëŒ€ Mê°œë¥¼ ê³ ë¥´ê³ , ë‚˜ë¨¸ì§€ ì¹˜í‚¨ì§‘ì€ ëª¨ë‘ íì—…ì‹œì¼œì•¼ í•œë‹¤. ì–´ë–»ê²ŒÂ ê³ ë¥´ë©´,Â <strong>ë„ì‹œì˜ ì¹˜í‚¨ ê±°ë¦¬</strong>ê°€ ê°€ì¥ ì‘ê²Œ ë ì§€ êµ¬í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤.</p>

<hr />

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;vector&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;cstring&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;queue&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;string&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;algorithm&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;map&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;string.h&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;sstream&gt;</span><span class="cp">
</span><span class="o">~~</span><span class="n">u</span><span class="o">~~</span><span class="n">sing</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">N</span><span class="p">,</span> <span class="n">M</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">city</span><span class="p">[</span><span class="mi">51</span><span class="p">][</span><span class="mi">51</span><span class="p">];</span>
<span class="n">vector</span> <span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">chicken</span><span class="p">;</span> <span class="c1">// ì¹˜í‚¨ì§‘ì˜ ìœ„ì¹˜</span>
<span class="n">vector</span> <span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">house</span><span class="p">;</span> <span class="c1">//ì§‘ì˜ ìœ„ì¹˜</span>
<span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">987654321</span><span class="p">;</span>

<span class="c1">//ì¹˜í‚¨ ê±°ë¦¬ : ì§‘ê³¼ ê°€ì¥ 'ê°€ê¹Œìš´' ì¹˜í‚¨ì§‘ê³¼ì˜ ê±°ë¦¬</span>
<span class="c1">//ì¹˜í‚¨ ì§‘ì„ ìµœëŒ€ Mê°œë¥¼ ê³¨ë¼ì„œ =&gt; ì¡°í•© (dfs)</span>
<span class="c1">//ê±°ë¦¬ë¥¼ ì„¼ë‹¤</span>
<span class="c1">//ì¹˜í‚¨ ê±°ë¦¬ì˜ ìµœì†Ÿê°’ì„ ë¦¬í„´</span>

<span class="kt">void</span> <span class="nf">input</span><span class="p">(){</span>
    <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">N</span> <span class="o">&gt;&gt;</span> <span class="n">M</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">N</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">j</span><span class="o">&lt;</span><span class="n">N</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">){</span>
            <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">city</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
            <span class="k">if</span><span class="p">(</span><span class="n">city</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2</span><span class="p">){</span>
                <span class="n">chicken</span><span class="p">.</span><span class="n">push_back</span><span class="p">({</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">});</span>
            <span class="p">}</span>
            <span class="k">if</span><span class="p">(</span><span class="n">city</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">){</span>
                <span class="n">house</span><span class="p">.</span><span class="n">push_back</span><span class="p">({</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">});</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">select_chicken</span><span class="p">(</span><span class="kt">int</span> <span class="n">idx</span><span class="p">,</span> <span class="n">vector</span> <span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&gt;&gt;&amp;</span> <span class="n">selected</span><span class="p">,</span> <span class="n">vector</span> <span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&gt;&amp;</span> <span class="n">candidates</span><span class="p">){</span>
    <span class="k">if</span><span class="p">(</span><span class="n">candidates</span><span class="p">.</span><span class="n">size</span><span class="p">()</span><span class="o">&gt;</span> <span class="n">M</span> <span class="o">||</span><span class="n">candidates</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">chicken</span><span class="p">.</span><span class="n">size</span><span class="p">()){</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">candidates</span><span class="p">.</span><span class="n">empty</span><span class="p">())</span>
        <span class="n">selected</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">candidates</span><span class="p">);</span>

    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="n">idx</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">chicken</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
        <span class="n">candidates</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">chicken</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
        <span class="n">select_chicken</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">selected</span><span class="p">,</span> <span class="n">candidates</span><span class="p">);</span>
        <span class="n">candidates</span><span class="p">.</span><span class="n">pop_back</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">solve</span><span class="p">(){</span>
    <span class="n">vector</span> <span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&gt;&gt;</span> <span class="n">selected</span><span class="p">;</span>
    <span class="n">vector</span> <span class="o">&lt;</span><span class="n">pair</span><span class="o">&lt;</span><span class="kt">int</span><span class="p">,</span> <span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">candidates</span><span class="p">;</span>
    <span class="c1">//ì—†ì•¨ ì¹˜í‚¨ì§‘ì„ ìµœëŒ€ Mê°œ ê¹Œì§€ ê³ ë¥¸ë‹¤</span>
    <span class="n">select_chicken</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">selected</span><span class="p">,</span> <span class="n">candidates</span><span class="p">);</span>

    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">selected</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span> <span class="c1">//ê²½ìš°ì˜ ìˆ˜ë§Œí¼</span>
        
        <span class="kt">int</span> <span class="n">chicken_dist</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="c1">//ê±°ë¦¬ ê³„ì‚°</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">j</span><span class="o">&lt;</span><span class="n">house</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="n">j</span><span class="o">++</span><span class="p">){</span>
            <span class="kt">int</span> <span class="n">dist</span> <span class="o">=</span> <span class="mi">987654321</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">house_x</span> <span class="o">=</span> <span class="n">house</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">first</span><span class="p">;</span>
            <span class="kt">int</span> <span class="n">house_y</span> <span class="o">=</span> <span class="n">house</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">second</span><span class="p">;</span>

            <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">k</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">k</span><span class="o">&lt;</span><span class="n">selected</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">size</span><span class="p">();</span> <span class="n">k</span><span class="o">++</span><span class="p">){</span>
                <span class="kt">int</span> <span class="n">calc</span> <span class="o">=</span> <span class="n">abs</span><span class="p">(</span><span class="n">house_x</span> <span class="o">-</span> <span class="n">selected</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">].</span><span class="n">first</span><span class="p">)</span> <span class="o">+</span> <span class="n">abs</span><span class="p">(</span><span class="n">house_y</span> <span class="o">-</span> <span class="n">selected</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">].</span><span class="n">second</span><span class="p">);</span>
                <span class="n">dist</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">dist</span><span class="p">,</span> <span class="n">calc</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="n">chicken_dist</span> <span class="o">+=</span> <span class="n">dist</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="n">ans</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">chicken_dist</span><span class="p">);</span>
    <span class="p">}</span>

<span class="p">}</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">input</span><span class="p">();</span>
    
    <span class="n">solve</span><span class="p">();</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">ans</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
:ET