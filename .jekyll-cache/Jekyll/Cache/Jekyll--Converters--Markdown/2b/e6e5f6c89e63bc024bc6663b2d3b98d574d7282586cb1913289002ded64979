I"å<h1 id="ì£¼ì‚¬ìœ„-ìœ·ë†€ì´">ì£¼ì‚¬ìœ„ ìœ·ë†€ì´</h1>

<p>Algorithm: dfs, ì‹œë®¬ë ˆì´ì…˜
Created: Apr 21, 2020 3:11 PM
DoubleChk: No
Type: ë°±ì¤€
link: https://www.acmicpc.net/problem/17825</p>

<h2 id="ë¬¸ì œ">ë¬¸ì œ</h2>

<p>ì£¼ì‚¬ìœ„ ìœ·ë†€ì´ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê²Œì„íŒì—ì„œ í•˜ëŠ” ê²Œì„ì´ë‹¤.</p>

<p><a href="https://upload.acmicpc.net/43409ac6-54bf-4a21-b542-e01a8211e59f/-/preview/">https://upload.acmicpc.net/43409ac6-54bf-4a21-b542-e01a8211e59f/-/preview/</a></p>

<ul>
  <li>ì²˜ìŒì—ëŠ” ì‹œì‘ ì¹¸ì— ë§ 4ê°œê°€ ìˆë‹¤.</li>
  <li>ë§ì€ ê²Œì„íŒì— ê·¸ë ¤ì§„ í™”ì‚´í‘œì˜ ë°©í–¥ëŒ€ë¡œë§Œ ì´ë™í•  ìˆ˜ ìˆë‹¤. ë§ì´ íŒŒë€ìƒ‰ ì¹¸ì—ì„œ ì´ë™ì„ ì‹œì‘í•˜ë©´ íŒŒë€ìƒ‰ í™”ì‚´í‘œë¥¼ íƒ€ì•¼ í•˜ê³ , ì´ë™í•˜ëŠ” ë„ì¤‘ì´ê±°ë‚˜ íŒŒë€ìƒ‰ì´ ì•„ë‹Œ ì¹¸ì—ì„œ ì´ë™ì„ ì‹œì‘í•˜ë©´ ë¹¨ê°„ìƒ‰ í™”ì‚´í‘œë¥¼ íƒ€ì•¼ í•œë‹¤. ë§ì´ ë„ì°© ì¹¸ìœ¼ë¡œ ì´ë™í•˜ë©´ ì£¼ì‚¬ìœ„ì— ë‚˜ì˜¨ ìˆ˜ì™€ ê´€ê³„ ì—†ì´ ì´ë™ì„ ë§ˆì¹œë‹¤.</li>
  <li>ê²Œì„ì€ 10ê°œì˜ í„´ìœ¼ë¡œ ì´ë£¨ì–´ì§„ë‹¤. ë§¤ í„´ë§ˆë‹¤ 1ë¶€í„° 5ê¹Œì§€ í•œ ë©´ì— í•˜ë‚˜ì”© ì í˜€ìˆëŠ” 5ë©´ì²´ ì£¼ì‚¬ìœ„ë¥¼ êµ´ë¦¬ê³ , ë„ì°© ì¹¸ì— ìˆì§€ ì•Šì€ ë§ì„ í•˜ë‚˜ ê³¨ë¼ ì£¼ì‚¬ìœ„ì— ë‚˜ì˜¨ ìˆ˜ë§Œí¼ ì´ë™ì‹œí‚¨ë‹¤.</li>
  <li>ë§ì´ ì´ë™ì„ ë§ˆì¹˜ëŠ” ì¹¸ì— ë‹¤ë¥¸ ë§ì´ ìˆìœ¼ë©´ ê·¸ ë§ì€ ê³ ë¥¼ ìˆ˜ ì—†ë‹¤. ë‹¨, ì´ë™ì„ ë§ˆì¹˜ëŠ” ì¹¸ì´ ë„ì°© ì¹¸ì´ë©´ ê³ ë¥¼ ìˆ˜ ìˆë‹¤.</li>
  <li>ë§ì´ ì´ë™ì„ ë§ˆì¹  ë•Œë§ˆë‹¤ ì¹¸ì— ì í˜€ìˆëŠ” ìˆ˜ê°€ ì ìˆ˜ì— ì¶”ê°€ëœë‹¤.</li>
</ul>

<p>ì£¼ì‚¬ìœ„ì—ì„œ ë‚˜ì˜¬ ìˆ˜ 10ê°œë¥¼ ë¯¸ë¦¬ ì•Œê³  ìˆì„ ë•Œ, ì–»ì„ ìˆ˜ ìˆëŠ” ì ìˆ˜ì˜ ìµœëŒ“ê°’ì„ êµ¬í•´ë³´ì.</p>

<hr />

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#include &lt;string&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;
#include &lt;map&gt;
#include &lt;stack&gt;
#include &lt;iostream&gt;
using namespace std;
map&lt;int, int&gt; red = {
        { 0, 2 },{ 2, 4 },{ 4, 6 },
        { 6, 8 },{ 8, 10 },{ 10, 12 },
        { 12, 14 },{ 14, 16 },{ 16, 18 },
        { 18, 20 },{ 20, 22 },{ 22, 24 },
        { 24, 26 },{ 26, 28 },{ 28, 30 },
        { 30, 32 },{ 32, 34 },{ 34, 36 },
        { 36, 38 },{ 38, 40 },{ 40, 50 }
};

map&lt;int, int&gt; blue = {
        { 10, 13 },{ 13, 16 },{ 16, 19 },
        { 19, 25 },{ 20, 22 },{ 22, 24 },
        { 24, 25 },{ 30, 28 },{ 28, 27 },
        { 27, 26 },{ 26, 25 },
};

map&lt;int, int&gt; blue_goal = {
        { 25, 30 },{ 30, 35 },{ 35, 40 },{ 40, 50 }
};

int ans;
vector&lt;int&gt; dice;
void input(){
    for(int i=0; i&lt;10; i++){
        int n;
        cin &gt;&gt; n;
        dice.push_back(n);
    }
}
int move(int idx, int piece, vector&lt;pair&lt;int, int&gt;&gt;&amp; pieces){

    //í•´ë‹¹ pieceì˜ ë°©í–¥ ì•Œê¸°
    int dir = pieces[piece].second;
    int now = pieces[piece].first;
    int cnt = dice[idx];

    for(int i=0; i&lt;cnt; i++){

        if(dir == 0){
            now = red[now];
        }else if(dir == 1){
            now = blue[now];
        }else if(dir == 2){
            now = blue_goal[now];
        }

        if(now == 25) dir = 2;
        else if(now == 50) break; //ëì— ë„ë‹¬
    }

    int check = true;
    if(now == 50){
        pieces[piece].first = 50;
    }else{

        if(dir == 0 &amp;&amp; (now == 10 || now == 20 || now == 30)) dir = 1;

        for(int i=0; i&lt;4; i++){ //ì¤‘ë³µëœ ë§ì´ ìˆëŠ”ì§€ ì²´í¬í•œë‹¤.
            if(i == piece) continue;
            if(pieces[i].first == now &amp;&amp; (now == 40 || dir == pieces[i].second)){
                check = false;
            }
        }

        if(!check){
            return -1;
        }else{
            pieces[piece].first = now;
            pieces[piece].second = dir;
            return now;
        }

    }

    return 0;
}
void solve(int idx, int sum, vector&lt;pair&lt;int, int&gt;&gt;&amp; pieces){

    if(idx &gt;= 10){
        ans = max(ans, sum);
        return;
    }

    //ëª¨ë“  ë§ë“¤ dfs
    for(int i=0; i&lt;4; i++){
        int prev = pieces[i].first;
        int prev_dir = pieces[i].second;

        int ret = move(idx, i, pieces);
        if(ret &gt; -1){
            solve(idx + 1, sum + ret, pieces);
        }

        pieces[i].first = prev;
        pieces[i].second = prev_dir;
    }

}
int main(){
    vector &lt;pair&lt;int, int&gt;&gt; pieces; //í˜„ì¬ ìœ„ì¹˜, ë°©í–¥
    //0 -&gt; ì œì¼ í° ë™ê·¸ë¼ë¯¸
    //1 -&gt; êº¾ì„ ë•Œ
    //2 -&gt; 25ì¼ ë•Œ

    pieces ={{0, 0},{0, 0},{0, 0},{0, 0}};

    input();
    solve(0, 0, pieces);

    cout &lt;&lt; ans &lt;&lt; endl;

    return 0;
}
</code></pre></div></div>

<ul>
  <li>
    <p>ë¬¸ì œ í’€ì´</p>

    <p>mapì„ ì‚¬ìš©í•´ì„œ ìœ·ë†€ì´ íŒì„ êµ¬í˜„í•œë‹¤.</p>

    <p>4ê°œì˜ ë§ì„ 10ë²ˆ ëŒë¦¬ëŠ” ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ë¥¼ íŒŒì•…í•˜ì—¬ ì œì¼ í° ê°’ì„ ì €ì¥í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì—, dfsë¡œ í’€ì–´ì¤€ë‹¤.</p>
  </li>
</ul>
:ET